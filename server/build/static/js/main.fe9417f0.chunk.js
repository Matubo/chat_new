(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},57:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(32),c=n.n(r),s=(n(50),n(51),n(52),n(27)),i=n(39),u=n.n(i),d=(n(55),n(56),n(57),n(2)),m=function(e,t){return Object(d.jsx)("button",{className:"carousel__item",onClick:function(){t(e)},children:e},e)};var l=function(e){var t,n=e.items,a=e.changeRoom,o=[];for(var r in n){var c=n[r].id;o.push(m(c,a))}var i=o.length;return Object(d.jsx)(u.a,(t={className:"owl-theme carousel",loop:!0,margin:10,items:10},Object(s.a)(t,"loop",!1),Object(s.a)(t,"dots",!0),Object(s.a)(t,"children",o),t),i)},b=n(26);n(59);var j=function(e){var t=e.joinToRoom,n=e.createRoom,o=Object(a.useState)(0),r=Object(b.a)(o,2),c=r[0],s=r[1];return Object(d.jsxs)("div",{className:"room-join-panel",children:[Object(d.jsx)("p",{className:"room-join-panel__header",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u0443 \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f"}),Object(d.jsx)("input",{className:"room-join-panel__room-input",type:"number",onChange:function(e){s(e.target.value)},value:c}),Object(d.jsx)("button",{className:"room-join-panel__join-button",onClick:function(){t(c)},children:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c\u0441\u044f"}),Object(d.jsx)("button",{className:"room-join-panel__create-room-button",onClick:n,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e"})]})};n(60);var f=function(e){var t=e.messages,n=e.userId;return Object(d.jsx)("div",{className:"message-container",children:t.length>0?t.map((function(e,t){return Object(d.jsxs)("div",{className:n==e.username?"message-container_message self-message":"message-container_message",children:[Object(d.jsx)("p",{className:"message-container_message_text",children:e.text}),Object(d.jsxs)("p",{className:"message-container_message_info",children:[e.username," - ",e.date]})]},t)})):Object(d.jsx)(d.Fragment,{})})};n(61);var p=function(e){var t=e.sendMessage,n=Object(a.useState)(""),o=Object(b.a)(n,2),r=o[0],c=o[1],s=Object(a.useRef)("");return Object(d.jsxs)("div",{className:"chat-input",children:[Object(d.jsx)("div",{className:"chat-input_input_field",type:"text",contenteditable:"true",placeholder:"Text here..",value:r,ref:s,onInput:function(e){c(e.target.textContent)}}),Object(d.jsx)("button",{className:"chang-input__send",onClick:function(){r.length>0&&(t(r),c(""),s.current.textContent="")},children:Object(d.jsx)("img",{src:"data:image/png;base64,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"})})]})};n(62);var h=function(e){var t=e.setUsername,n=Object(a.useState)(""),o=Object(b.a)(n,2),r=o[0],c=o[1];return Object(d.jsx)("div",{className:"authorization-body",children:Object(d.jsxs)("div",{className:"authorization-body__pop-up",children:[Object(d.jsx)("p",{className:"authorization-body__pop-up-header",children:"\u0412\u0445\u043e\u0434 \u0432 \u0447\u0430\u0442"}),Object(d.jsx)("p",{className:"authorization-body__pop-up-login",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 username"}),Object(d.jsx)("input",{className:"authorization-body__pop-up__username-input",type:"text",onChange:function(e){c(e.target.value)},value:r}),Object(d.jsx)("button",{className:"authorization-body__pop-up__authorization-button",onClick:function(){t(r)},children:"\u0412\u043e\u0439\u0442\u0438"})]})})},O=n(35),x=n(44),g=n(22),v=n(45),A=Object(g.b)({name:"authorized",initialState:{authorized:!1,userId:null},reducers:{logIn:function(e,t){var n=t.payload.username;e.authorized=!0,e.userId=n},logOut:function(e){e.authorized=!1,e.userId=null}}}),N=A.reducer,_=A.actions,C=Object(g.b)({name:"chatRooms",initialState:{rooms:{},currentRoom:null},reducers:{addRoom:function(e,t){console.log(w);var n=t.payload,a=n.room,o=n.id;e.rooms[o]=a},changeRoom:function(e,t){var n=t.payload.id;e.currentRoomId=n},setNewMessage:function(e,t){var n=t.payload,a=n.id,o=n.message;e.rooms[a].messages.push(o)}}}),y=C.reducer,w=C.actions,I=Object(g.b)({name:"loading",initialState:{loading:!1,error:!1,errorMessage:null},reducers:{startLoading:function(e){e.loading=!0,e.errorMessage=null},finishLoading:function(e){e.loading=!1,e.errorMessage=null},loadingError:function(e,t){var n=t.payload.errMsg;e.error=!0,e.errorMessage=n}}}),R=I.reducer,z=I.actions,S=n(21),H=n.n(S),k=n(19),B=H.a.mark(G),P=H.a.mark(L),q=H.a.mark(U),K=H.a.mark(X),M=function(e){return e.chatRooms};function G(e){var t,n,a,o;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.data,n=t.status,a=t.room,!n){r.next=11;break}return r.next=4,Object(k.b)(M);case 4:if(void 0!=(o=r.sent).rooms["".concat(a.id)]){r.next=11;break}return r.next=8,Object(k.a)(F.addRoom({room:a,id:a.id}));case 8:if(o.currentRoom){r.next=11;break}return r.next=11,Object(k.a)(F.changeRoom({id:a.id}));case 11:case"end":return r.stop()}}),B)}function L(e){var t,n,a,o;return H.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.data,n=t.status,a=t.id,o=t.message,!n){r.next=4;break}return r.next=4,Object(k.a)(F.setNewMessage({id:a,message:o}));case 4:case"end":return r.stop()}}),P)}function U(e){var t,n,a;return H.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.data,n=t.status,a=t.username,!n){o.next=6;break}return o.next=4,Object(k.a)(F.finishLoading());case 4:return o.next=6,Object(k.a)(F.logIn({username:a}));case 6:case"end":return o.stop()}}),q)}function X(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.c)("queries/accept_join_to_room",G);case 2:return e.next=4,Object(k.c)("queries/new_room_message",L);case 4:return e.next=6,Object(k.c)("queries/accept_set_username",U);case 6:case"end":return e.stop()}}),K)}var W=X,Y=Object(v.a)(),D=Object(g.a)({reducer:{chatRooms:y,authorization:N,loading:R},middleware:function(e){return[].concat(Object(x.a)(e({thunk:!1,serializableCheck:!1})),[Y])}});Y.run(W);var F=Object(O.a)(Object(O.a)(Object(O.a)({},_),z),w),V=D,E=n(28),Z=n(43),Q=Object(Z.a)("http://localhost:3001");var T=function(e){return function(t,n){e.emit("add_new_message",{id:t,message:n})}}(Q),J=function(e){return function(t){e.emit("set_username",{username:t})}}(Q),$=function(e){return function(){e.emit("create_room")}}(Q),ee=function(e){return function(t){e.emit("join_to_room",{id:t})}}(Q);!function(e){return function(t){e.on("accept_create_room",(function(e){t(e)}))}}(Q)((function(e){V.dispatch({type:"queries/accept_create_room",data:e})})),function(e){return function(t){e.on("accept_join_to_room",(function(e){t(e)}))}}(Q)((function(e){V.dispatch({type:"queries/accept_join_to_room",data:e})})),function(e){return function(t){e.on("new_room_message",(function(e){t(e)}))}}(Q)((function(e){V.dispatch({type:"queries/new_room_message",data:e})})),function(e){return function(t){e.on("accept_set_username",(function(e){console.log("accept_set_username"),t(e)}))}}(Q)((function(e){V.dispatch({type:"queries/accept_set_username",data:e})}));n(73);var te=function(e){var t=Object(E.c)((function(e){return e.chatRooms})),n=t.rooms,a=t.currentRoomId,o=Object(E.c)((function(e){return e.authorization})),r=o.authorized,c=o.userId,s=Object(E.b)();return Object(d.jsxs)("div",{className:"chat-body",children:[Object(d.jsx)("h1",{className:"chat-body__header",children:"CHAT APP..."}),Object(d.jsx)("div",{className:"chat-body__content",children:r?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l,{items:n,changeRoom:function(e){return s(F.changeRoom({id:e}))}}),Object(d.jsx)(j,{joinToRoom:ee,createRoom:$}),Object(d.jsx)(f,{messages:a?n[a].messages:[],userId:c}),Object(d.jsx)(p,{sendMessage:function(e){T(a,e)}})]}):Object(d.jsx)(h,{setUsername:J})})]})};var ne=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(E.a,{store:V,children:Object(d.jsx)(te,{})})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),r(e),c(e)}))};c.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[74,1,2]]]);
//# sourceMappingURL=main.fe9417f0.chunk.js.map